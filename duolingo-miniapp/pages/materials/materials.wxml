<!-- Materials - å­¦ä¹ èµ„æºé¡µ -->
<view class="page">
  <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
  <view class="top-bar">
    <text class="page-title">Learning Materials</text>
    <text class="close-btn" bindtap="handleClose">Ã—</text>
  </view>

  <!-- é€‰é¡¹å¡ -->
  <view class="tabs">
    <view class="tab {{activeTab === 'all' ? 'active' : ''}}" bindtap="handleTabChange" data-tab="all">
      <text>All</text>
    </view>
    <view class="tab {{activeTab === 'pdf' ? 'active' : ''}}" bindtap="handleTabChange" data-tab="pdf">
      <text>ðŸ“„ PDF</text>
    </view>
    <view class="tab {{activeTab === 'audio' ? 'active' : ''}}" bindtap="handleTabChange" data-tab="audio">
      <text>ðŸŽµ Audio</text>
    </view>
    <view class="tab {{activeTab === 'video' ? 'active' : ''}}" bindtap="handleTabChange" data-tab="video">
      <text>ðŸŽ¬ Video</text>
    </view>
  </view>

  <!-- èµ„æºåˆ—è¡¨ -->
  <scroll-view class="materials-list" scroll-y="true">
    <view class="materials-grid">
      <!-- PDFèµ„æº -->
      <view class="material-card" wx:for="{{visibleMaterials}}" wx:key="id" bindtap="handleMaterialClick" data-id="{{item.id}}" data-type="{{item.type}}">
        <view class="material-icon {{item.type}}">
          <text>{{item.icon}}</text>
        </view>
        <view class="material-info">
          <text class="material-name">{{item.name}}</text>
          <text class="material-meta">{{item.size}} â€¢ {{item.duration}}</text>
          <view class="material-progress" wx:if="{{item.progress > 0}}">
            <view class="progress-bar">
              <view class="progress-fill" style="width: {{item.progress}}%"></view>
            </view>
            <text class="progress-text">{{item.progress}}%</text>
          </view>
        </view>
        <view class="material-action">
          <text class="action-icon">{{item.progress > 0 ? 'â–¶' : 'â†“'}}</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{visibleMaterials.length === 0}}">
      <text class="empty-icon">ðŸ“š</text>
      <text class="empty-text">No materials available</text>
    </view>

    <!-- åº•éƒ¨ç©ºç™½ -->
    <view class="materials-bottom"></view>
  </scroll-view>
</view>
